using UnityEngine;

/// <summary>
/// Компонент-маркер, обозначающий место на игровом поле, доступное для строительства башни.
/// Обрабатывает клики игрока и уведомляет систему строительства о выборе данного места.
/// </summary>
/// <remarks>
/// <para><b>Роль в архитектуре:</b> Является "точкой взаимодействия" между игроком и системой строительства.
/// Не содержит логики строительства, только визуальное представление места и обработку ввода.</para>
/// <para><b>Визуальное состояние:</b> Активность GameObject'а управляется <see cref="ConstructionModeManager"/>.
/// Когда режим строительства активен, плейсхолдеры становятся видимыми/выделенными.</para>
/// </remarks>
public class TowerPlaceholder : MonoBehaviour
{
    /// <summary>
    /// Обработчик события клика (тапа) по объекту плейсхолдера.
    /// Вызывается системой ввода Unity при нажатии на коллайдер объекта.
    /// </summary>
    private void OnMouseDown()
    {
        // При клике на этот объект сообщаем системе строительства, что он выбран
        EventHub.OnTowerPlaceholderSelected?.Invoke(this);

        Debug.Log($"[TowerPlaceholder] Выбран плейсхолдер: {gameObject.name}");
    }

    // NOTE: Для будущего развития нужно добавить:
    // - Проверку доступности места для строительства (занято, заблокировано)
    // - Разные типы плейсхолдеров для разных типов башен
}