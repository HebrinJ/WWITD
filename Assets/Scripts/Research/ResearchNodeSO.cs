using UnityEngine;

/// <summary>
/// ScriptableObject содержащий данные об отдельном узле исследования в древе технологий.
/// Определяет параметры, стоимость, эффекты и требования для разблокировки исследования.
/// Используется системой <see cref="ResearchManager"/> для управления прогрессом исследований.
/// </summary>
[CreateAssetMenu(fileName = "ResearchNodeSO", menuName = "Scriptable Objects/ResearchNodeSO")]
public class ResearchNodeSO : ScriptableObject
{
    /// <summary>
    /// Отображаемое название исследования в интерфейсе.
    /// Должно быть кратким и понятным для игрока (например: "Улучшение урона стрелков").
    /// </summary>
    [Tooltip("Отображаемое название исследования в интерфейсе.")]
    public string NodeName;

    /// <summary>
    /// Подробное описание исследования и его эффектов.
    /// Объясняет игроку, что именно дает это исследование.
    /// </summary>
    [TextArea]
    [Tooltip("Подробное описание эффектов исследования для игрока.")]
    public string Description;

    /// <summary>
    /// Тип узла исследования. Определяет категорию и визуальное представление.
    /// Может быть улучшением башни, новой башней, глобальной способностью и т.д.
    /// </summary>
    [Tooltip("Тип узла исследования (улучшение, новая башня, способность и т.д.).")]
    public ResearchNodeType NodeType;

    /// <summary>
    /// Количество чертежей, необходимых для исследования этого узла.
    /// Чертежи являются глобальным ресурсом, накапливаемым за прохождение уровней.
    /// </summary>
    [Tooltip("Количество чертежей, необходимых для исследования.")]
    public int BlueprintCost;

    /// <summary>
    /// Иконка исследования для отображения в интерфейсе древа технологий.
    /// Визуально представляет тип улучшения или новую технологию.
    /// </summary>
    [Tooltip("Иконка для отображения в интерфейсе исследований.")]
    public Sprite Icon;

    /// <summary>
    /// Массив эффектов, которые применяются при успешном исследовании узла.
    /// Может содержать улучшения параметров башен, разблокировку новых возможностей и т.д.
    /// </summary>
    [Tooltip("Эффекты, которые применяются при исследовании узла.")]
    public ResearchEffect[] ResearchEffects;

    /// <summary>
    /// Массив узлов-предшественников, которые должны быть исследованы до этого узла.
    /// Определяет последовательность исследований в древе технологий.
    /// Если массив пустой - узел доступен с начала игры.
    /// </summary>
    [Tooltip("Узлы, которые должны быть исследованы ДО этого узла.")]
    public ResearchNodeSO[] PrerequisiteNodes;
}