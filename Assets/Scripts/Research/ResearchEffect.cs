using UnityEngine;

/// <summary>
/// Структура данных, определяющая конкретный эффект исследования в древе технологий.
/// Описывает игровое преимущество, которое получает игрок после исследования узла.
/// Может модифицировать параметры башен, добавлять глобальные бонусы или разблокировать новый контент.
/// </summary>
[System.Serializable]
public class ResearchEffect
{
    /// <summary>
    /// Тип эффекта исследования. Определяет как будет применен этот эффект.
    /// </summary>
    [Tooltip("Тип эффекта исследования (модификатор, разблокировка и т.д.).")]
    public EffectType Type;

    /// <summary>
    /// Идентификатор цели, к которой применяется эффект.
    /// Зависит от Type:
    /// - TowerStatModifier: TowerType (например, "Riflemen")
    /// - GlobalBonus: тип глобального бонуса (например, "StartingMoney")
    /// - UnlockTowerGrade: TowerType (например, "Riflemen") 
    /// - UnlockAbility: идентификатор способности (например, "ArtilleryStrike")
    /// </summary>
    [Tooltip("ID цели эффекта (тип башни, тип бонуса, способность и т.д.).")]
    public string TargetId;

    /// <summary>
    /// Числовое значение эффекта. Используется для модификаторов и бонусов.
    /// Зависит от Type:
    /// - TowerStatModifier: значение модификатора (например, 0.1 для +10%)
    /// - GlobalBonus: значение бонуса (например, 50 для +50 денег)
    /// - UnlockTowerGrade: не используется
    /// - UnlockAbility: не используется
    /// </summary>
    [Tooltip("Числовое значение эффекта (для модификаторов и бонусов).")]
    public float Value;

    /// <summary>
    /// Строковое значение для сложных эффектов, требующих дополнительных параметров.
    /// Зависит от Type:
    /// - TowerStatModifier: название параметра (например, "Damage", "Range")
    /// - GlobalBonus: не используется
    /// - UnlockTowerGrade: идентификатор грейда (например, "Grade1", "Grade2")
    /// - UnlockAbility: не используется
    /// </summary>
    [Tooltip("Строковое значение для дополнительных параметров эффекта.")]
    public string StringValue;
}